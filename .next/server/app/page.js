(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},8798:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>g,pages:()=>c,routeModule:()=>m,tree:()=>o});var t=r(7096),s=r(6132),l=r(7284),i=r.n(l),n=r(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3982)),"F:\\Kansou\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2392)),"F:\\Kansou\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["F:\\Kansou\\app\\page.tsx"],g="/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3109:(e,a,r)=>{Promise.resolve().then(r.bind(r,7203))},7203:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>Home});var t=r(784),s=r(9885),l=r(279),i=r(4904),n=r(8937),d=r(2029),o=r(9518),c=r(7932),g=r(517),x=r(6206),m=r(1672),p=r(6087),h=r(2288);let MangaCardSkeleton=()=>(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-64 bg-gray-200 dark:bg-gray-700"}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("div",{className:"h-6 w-3/4 mb-4 bg-gray-200 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"h-4 w-full mb-2 bg-gray-200 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"h-4 w-5/6 mb-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"h-4 w-1/4 bg-gray-200 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"h-4 w-1/4 bg-gray-200 dark:bg-gray-700 rounded"})]})]})]});var y=r(8042);let ScrollToTopButton=()=>{let[e,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let toggleVisibility=()=>{window.pageYOffset>300?a(!0):a(!1)};return window.addEventListener("scroll",toggleVisibility),()=>window.removeEventListener("scroll",toggleVisibility)},[]),t.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:`fixed bottom-5 right-5 p-3 rounded-full bg-primary-600 text-white shadow-lg hover:bg-primary-700 transition-all duration-300 z-50 ${e?"opacity-100 scale-100":"opacity-0 scale-95"}`,"aria-label":"Scroll to top",children:t.jsx(y.Z,{className:"h-6 w-6"})})},u=["Action","Adventure","Comedy","Drama","Fantasy","Horror","Mystery","Romance","Sci-Fi","Slice of Life","Supernatural","Thriller"],b=["MANGA","NOVEL","ONE_SHOT"],j=["FINISHED","RELEASING","NOT_YET_RELEASED","CANCELLED","HIATUS"];function Home(){let[e,a]=(0,s.useState)(""),[r,y]=(0,s.useState)([]),[f,v]=(0,s.useState)(!0),[k,N]=(0,s.useState)([]),[w,S]=(0,s.useState)([]),[_,E]=(0,s.useState)([]),[C,P]=(0,s.useState)(!1),[A,F]=(0,s.useState)(null),{theme:T,setTheme:$}=(0,h.F)(),[M,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{D(!0),searchManga()},[]);let searchManga=async()=>{v(!0);try{let a=`
        query ($search: String, $genres: [String], $formats: [MediaFormat], $status: [MediaStatus]) {
          Page(page: 1, perPage: 24) {
            media(
              type: MANGA
              search: $search
              genre_in: $genres
              format_in: $formats
              status_in: $status
              sort: [POPULARITY_DESC, SCORE_DESC]
            ) {
              id
              siteUrl
              title {
                english
                romaji
                native
              }
              coverImage {
                large
                medium
              }
              description(asHtml: true)
              averageScore
              popularity
              genres
              format
              status
              startDate {
                year
                month
                day
              }
            }
          }
        }
      `,r={search:e.trim()||void 0,genres:k.length>0?k:void 0,formats:w.length>0?w:void 0,status:_.length>0?_:void 0},t=await fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:a,variables:r})});if(t.ok){let e=await t.json();y(e.data.Page.media)}else y([])}catch(e){y([])}finally{v(!1)}};(0,s.useEffect)(()=>{if(!M)return;let e=setTimeout(()=>{searchManga()},500);return()=>clearTimeout(e)},[e,k,w,_]);let toggleGenre=e=>{N(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},toggleFormat=e=>{S(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},toggleStatus=e=>{E(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},clearFilters=()=>{N([]),S([]),E([]),a("")},formatDate=e=>e.year?`${e.month||"??"}/${e.day||"??"}/${e.year}`:"Unknown",truncateDescription=(e,a=150)=>{if(!e)return"No description available";let r=e.replace(/<[^>]+>/g,"");return r.length>a?r.substring(0,a)+"...":r},I=e.trim().length>0||k.length>0||w.length>0||_.length>0;return(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900",children:[t.jsx("header",{className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:()=>{clearFilters(),F(null),searchManga()},className:"flex items-center space-x-3 group",children:[t.jsx(n.Z,{className:"h-8 w-8 text-primary-600 group-hover:text-primary-700 transition-colors"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50 group-hover:text-primary-600 dark:group-hover:text-primary-500 transition-colors",children:"Kansou"}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full hidden sm:block",children:"Manga Search"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[M?t.jsx("button",{onClick:()=>$("light"===T?"dark":"light"),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle theme",children:"light"===T?t.jsx(l.Z,{className:"h-5 w-5"}):t.jsx(i.Z,{className:"h-5 w-5"})}):t.jsx("div",{className:"h-9 w-9"}),(0,t.jsxs)("button",{onClick:()=>P(!C),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[t.jsx(d.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Filters"})]})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[t.jsx(o.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),t.jsx("input",{type:"text",placeholder:"Search for manga by title, author, or keywords...",value:e,onChange:e=>a(e.target.value),className:"search-input pl-12 pr-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 border-gray-200 dark:border-gray-700 focus:border-primary-500 dark:focus:border-primary-500"})]})}),C&&(0,t.jsxs)("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-slide-up",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-3",children:"Genres"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(e=>t.jsx("button",{onClick:()=>toggleGenre(e),className:`filter-button ${k.includes(e)?"active":""} dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600 dark:[&.active]:bg-primary-500 dark:[&.active]:text-white dark:[&.active]:border-primary-500`,children:e},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-3",children:"Formats"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(e=>t.jsx("button",{onClick:()=>toggleFormat(e),className:`filter-button ${w.includes(e)?"active":""} dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600 dark:[&.active]:bg-primary-500 dark:[&.active]:text-white dark:[&.active]:border-primary-500`,children:e.replace("_"," ")},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50 mb-3",children:"Status"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(e=>t.jsx("button",{onClick:()=>toggleStatus(e),className:`filter-button ${_.includes(e)?"active":""} dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600 dark:[&.active]:bg-primary-500 dark:[&.active]:text-white dark:[&.active]:border-primary-500`,children:e.replace("_"," ")},e))})]})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:t.jsx("button",{onClick:clearFilters,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Clear All Filters"})})]}),t.jsx("div",{className:"space-y-6",children:f?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:12}).map((e,a)=>t.jsx(MangaCardSkeleton,{},a))}):!f&&0===r.length&&I?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(n.Z,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-50 mb-2",children:"No manga found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search terms or filters"})]}):!f&&r.length>0&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-50",children:I?`Found ${r.length} manga`:"Top Picks For You"})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((e,a)=>(0,t.jsxs)("div",{className:"manga-card bg-white dark:bg-gray-800 flex flex-col justify-between overflow-hidden cursor-pointer animate-fade-in",style:{animationDelay:`${50*a}ms`,animationFillMode:"both"},children:[(0,t.jsxs)("div",{onClick:()=>F(e),className:"flex-grow",children:[(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("img",{src:e.coverImage.large,alt:e.title.english||e.title.romaji,className:"w-full h-64 object-cover transition-all duration-300",onError:e=>{let a=e.target;a.src="https://via.placeholder.com/300x400?text=No+Image"}}),t.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity"}),e.averageScore>0&&(0,t.jsxs)("div",{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-sm font-semibold flex items-center",children:[t.jsx(c.Z,{className:"h-3 w-3 mr-1 fill-current"}),e.averageScore/10]})]}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-50 mb-2 line-clamp-2",children:e.title.english||e.title.romaji}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-3",children:truncateDescription(e.description)}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:[(0,t.jsxs)("span",{className:"flex items-center",children:[t.jsx(g.Z,{className:"h-3 w-3 mr-1"}),formatDate(e.startDate)]}),t.jsx("span",{className:"capitalize",children:e.format.toLowerCase().replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.genres.slice(0,3).map(e=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:e},e)),e.genres.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:["+",e.genres.length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"FINISHED"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"RELEASING"===e.status?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"HIATUS"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:e.status.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",e.popularity]})]})]})]}),t.jsx("a",{href:e.siteUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"block p-3 bg-gray-50 dark:bg-gray-700/50 text-center text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"View on AniList"})]},e.id))})]})})]}),t.jsx(ScrollToTopButton,{}),A&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:()=>F(null),children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full relative animate-slide-up flex flex-col md:flex-row max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[t.jsx("button",{onClick:()=>F(null),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50 transition-colors z-10 p-1 bg-white/50 dark:bg-gray-900/50 rounded-full",children:t.jsx(x.Z,{className:"h-6 w-6"})}),t.jsx("div",{className:"md:w-1/3 flex-shrink-0",children:t.jsx("img",{src:A.coverImage.large,alt:A.title.english||A.title.romaji,className:"w-full h-full object-cover rounded-l-xl",onError:e=>{let a=e.target;a.src="https://via.placeholder.com/300x400?text=No+Image"}})}),(0,t.jsxs)("div",{className:"md:w-2/3 p-6 md:p-8 space-y-4 overflow-y-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50 pr-10",children:A.title.english||A.title.romaji}),A.title.english&&t.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 -mt-2",children:A.title.romaji}),A.title.native&&t.jsx("p",{className:"text-md text-gray-400 dark:text-gray-300",children:A.title.native}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 pt-2 text-sm text-gray-700 dark:text-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-5 w-5 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-semibold text-lg",children:A.averageScore>0?A.averageScore/10:"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(m.Z,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("span",{className:"font-semibold text-lg",children:["#",A.popularity]})]})]}),t.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 space-y-2",dangerouslySetInnerHTML:{__html:A.description}}),(0,t.jsxs)("div",{className:"pt-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex",children:[t.jsx("strong",{className:"w-24 text-gray-600 dark:text-gray-400",children:"Format"}),t.jsx("span",{className:"dark:text-gray-200",children:A.format.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("strong",{className:"w-24 text-gray-600 dark:text-gray-400",children:"Status"}),t.jsx("span",{className:"dark:text-gray-200",children:A.status.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("strong",{className:"w-24 text-gray-600 dark:text-gray-400",children:"Start Date"}),t.jsx("span",{className:"dark:text-gray-200",children:formatDate(A.startDate)})]}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("strong",{className:"w-24 text-gray-600 dark:text-gray-400",children:"Genres"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:A.genres.map(e=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:e},e))})]})]}),t.jsx("div",{className:"pt-6",children:(0,t.jsxs)("a",{href:A.siteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-4 py-3 font-semibold text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-all duration-200",children:[t.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"View on AniList"]})})]})]})})]})}},3982:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>i,__esModule:()=>l,default:()=>d});var t=r(5153);let s=(0,t.createProxy)(String.raw`F:\Kansou\app\page.tsx`),{__esModule:l,$$typeof:i}=s,n=s.default,d=n}};var a=require("../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[297,124,846],()=>__webpack_exec__(8798));module.exports=r})();